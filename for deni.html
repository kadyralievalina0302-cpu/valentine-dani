<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> for DENII üíö</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b3d2e;
      --bg2:#0a5a44;
      --bg3:#0f7a57;

      --pink:#ff63b8;
      --violet:#8b5cf6;
      --white:#ffffff;

      --card: rgba(255,255,255,.14);
      --card2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.22);
      --shadow: 0 18px 55px rgba(0,0,0,.30);

      --btnH: 56px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Nunito", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--white);
      overflow:hidden;
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(255,99,184,.18), transparent 60%),
        radial-gradient(1200px 700px at 85% 20%, rgba(139,92,246,.18), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2) 45%, var(--bg3));
    }

    /* –õ–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ (—Ñ–æ–Ω) */
    .hearts-bg{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart{
      position:absolute;
      bottom:-60px;
      width:14px;
      height:14px;
      transform: rotate(45deg);
      opacity:.7;
      animation: floatUp linear infinite;
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width:14px;
      height:14px;
      border-radius:50%;
      background: currentColor;
    }
    .heart{
      background: currentColor;
      border-radius:3px;
    }
    .heart:before{ left:-7px; top:0; }
    .heart:after{ left:0; top:-7px; }

    @keyframes floatUp{
      0%   { transform: translateY(0) rotate(45deg); opacity:0; }
      10%  { opacity:.75; }
      100% { transform: translateY(-120vh) rotate(45deg); opacity:0; }
    }

    /* –ö–æ–Ω—Ç–µ–Ω—Ç */
    .wrap{
      position:relative;
      z-index:2;
      height:100%;
      display:grid;
      place-items:center;
      padding: 18px;
    }

    .card{
      width:min(560px, 92vw);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border: 1px solid var(--stroke);
      border-radius: 28px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      padding: 26px 22px 22px;
      position:relative;
    }

    .dino{
      width: min(230px, 60vw);
      height:auto;
      display:block;
      margin: 0 auto 10px;
      user-select:none;
      -webkit-user-drag:none;
      filter: drop-shadow(0 14px 22px rgba(0,0,0,.28));
      transform: translateZ(0);
    }

    .question{
      text-align:center;
      font-family: "Caveat", cursive;
      font-size: clamp(34px, 4.8vw, 52px);
      line-height: 1.05;
      margin: 8px 0 14px;
      letter-spacing: .3px;
    }

    /* –ö–Ω–æ–ø–∫–∏ */
    .buttons{
      margin-top: 16px;
      position: relative;
      width: 100%;
      height: 100px; /* –≤–∞–∂–Ω–æ: —á—Ç–æ–±—ã –±—ã–ª–æ –º–µ—Å—Ç–æ —É–±–µ–≥–∞—Ç—å */
      display:block;
    }

    .btn{
      height: var(--btnH);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.26);
      background: rgba(255,255,255,.16);
      color: var(--white);
      font-weight: 800;
      letter-spacing: .2px;
      padding: 0 18px;
      cursor:pointer;
      outline:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .15s ease, background .15s ease, box-shadow .15s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
    }
    .btn:active{ transform: translateY(1px) scale(.99); }

    #yesBtn{
      position:absolute;
      left: 10px;
      top: 0;
      min-width: 170px;
      background: linear-gradient(135deg, rgba(255,99,184,.85), rgba(139,92,246,.85));
      border: 1px solid rgba(255,255,255,.35);
    }
    #yesBtn:hover{ transform: translateY(-1px); box-shadow: 0 16px 30px rgba(0,0,0,.22); }

    #noBtn{
      position:absolute;
      left: 60%;
      top: 0;
      min-width: 170px;
      background: rgba(255,255,255,.20);
      touch-action: none; /* –≤–∞–∂–Ω–æ –¥–ª—è mobile */
      user-select:none;
    }

    .hint{
      margin-top: 12px;
      font-size: 12.5px;
      opacity:.75;
      text-align:center;
    }

    /* –≠–∫—Ä–∞–Ω —É—Å–ø–µ—Ö–∞ */
    .success{
      display:none;
      text-align:center;
      padding: 6px 6px 2px;
      animation: popIn .35s ease both;
    }
    @keyframes popIn{
      from{ transform: translateY(10px); opacity:0; }
      to  { transform: translateY(0); opacity:1; }
    }

    .success h2{
      font-family:"Caveat", cursive;
      font-size: clamp(38px, 5vw, 56px);
      margin: 6px 0 6px;
    }
    .success p{
      margin: 0 0 14px;
      opacity:.94;
      font-size: 16px;
    }

    .note{
      margin: 14px auto 0;
      text-align:left;
      width:min(460px, 92%);
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.22);
      border-radius: 20px;
      padding: 16px 16px;
      line-height: 1.45;
      box-shadow: 0 14px 30px rgba(0,0,0,.18);
    }
    .note .hand{
      font-family:"Caveat", cursive;
      font-size: 22px;
      line-height: 1.22;
    }

    /* Canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    #confetti{
      position:fixed;
      inset:0;
      z-index:3;
      pointer-events:none;
      display:none;
    }

    @media (max-width: 420px){
      #yesBtn, #noBtn{ min-width: 150px; }
      .buttons{ height: 110px; }
    }
  </style>
</head>

<body>
  <div class="hearts-bg" id="heartsBg" aria-hidden="true"></div>
  <canvas id="confetti"></canvas>

  <main class="wrap">
    <section class="card">
      <!-- —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
      <div id="screenAsk">
        <img class="dino" id="dinoImg" alt="dino" src="./img1.png" />
        <div class="question">–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</div>

        <div class="buttons" id="buttonsArea">
          <button class="btn" id="yesBtn">–î–∞! ‚ô•</button>
          <button class="btn" id="noBtn">–ù–µ—Ç</button>
        </div>

        <div class="hint">–ø–æ–¥—Å–∫–∞–∑–∫–∞: ¬´–ù–µ—Ç¬ª —Å–ª–µ–≥–∫–∞ —Ç—Ä—É—Å–∏—à–∫–∞</div>
      </div>

      <!-- —ç–∫—Ä–∞–Ω —É—Å–ø–µ—Ö–∞ -->
      <div class="success" id="screenYes">
        <img class="dino" id="dinoImgYes" alt="happy dino" src="./img2.png" />
        <h2>–£—Ä–∞! –Ø –∑–Ω–∞–ª!</h2>
        <p>–Ø —Ç–∞–∫ —Ä–∞–¥–∞, —á—Ç–æ —Ç—ã —Å–æ–≥–ª–∞—Å–∏–ªc—è! ‚ô•</p>

        <div class="note">
          <div class="hand">
            Dani, you are the best, the smartest, and the most handsome to me ü§ç<br>
            I truly admire you ‚Äî the way you think, the way you are, and the way you live.<br>
            You inspire me to become better every day and to believe in myself.<br>
            I‚Äôm really grateful to have you.<br>
            14 —Ñ–µ–≤—Ä–∞–ª—è 2026 ‚ô•
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const area   = document.getElementById("buttonsArea");

    const screenAsk = document.getElementById("screenAsk");
    const screenYes = document.getElementById("screenYes");

    /* –°–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ */
    const heartsBg = document.getElementById("heartsBg");
    function spawnHearts(count = 20){
      const colors = ["#ff63b8","#8b5cf6","#ffd1ea","#c7a6ff","#ff9ad3"];
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "heart";
        const size = 10 + Math.random()*16;
        h.style.width = size+"px";
        h.style.height = size+"px";
        h.style.left = (Math.random()*100)+"vw";
        h.style.color = colors[Math.floor(Math.random()*colors.length)];
        h.style.animationDuration = (6 + Math.random()*8) + "s";
        h.style.animationDelay = (Math.random()*6) + "s";
        h.style.opacity = (0.35 + Math.random()*0.45).toFixed(2);
        heartsBg.appendChild(h);

        h.addEventListener("animationend", () => {
          h.style.left = (Math.random()*100)+"vw";
          h.style.animationDelay = "0s";
          h.style.animationDuration = (6 + Math.random()*8)+"s";
          h.style.animationName = "none";
          void h.offsetWidth;
          h.style.animationName = "floatUp";
        });
      }
    }
    spawnHearts();

    /* –ö–Ω–æ–ø–∫–∞ "–ù–µ—Ç" ‚Äî –∫–∞–∫ –≤ —Ç–≤–æ–µ–π —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ (desktop + mobile) */
    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function runAway(){
      const areaRect = area.getBoundingClientRect();
      const btnRect  = noBtn.getBoundingClientRect();

      const maxX = areaRect.width  - btnRect.width;
      const maxY = areaRect.height - btnRect.height;

      if(maxX <= 0 || maxY <= 0) return;

      let x = Math.random() * maxX;
      let y = Math.random() * maxY;

      // —á—É—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –ø–æ –∫—Ä–∞—è–º
      x = clamp(x, 0, maxX);
      y = clamp(y, 0, maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top  = `${y}px`;
    }

    function initNoBtn(){
      const areaRect = area.getBoundingClientRect();
      if(areaRect.width < 360){
        noBtn.style.left = "52%";
        noBtn.style.top  = "10px";
      }else{
        noBtn.style.left = "60%";
        noBtn.style.top  = "0px";
      }
    }
    initNoBtn();
    window.addEventListener("resize", initNoBtn);

    noBtn.addEventListener("mouseenter", runAway);

    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      runAway();
    }, {passive:false});

    area.addEventListener("pointermove", (e) => {
      if(e.pointerType && e.pointerType !== "mouse") return;
      const b = noBtn.getBoundingClientRect();
      const dx = e.clientX - (b.left + b.width/2);
      const dy = e.clientY - (b.top + b.height/2);
      const dist = Math.hypot(dx, dy);
      if(dist < 95) runAway();
    });

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      runAway();
    });

    /* "–î–∞" -> —É—Å–ø–µ—Ö + –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    yesBtn.addEventListener("click", () => {
      screenAsk.style.display = "none";
      screenYes.style.display = "block";
      startConfetti(2600);
    });

    /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    function resizeCanvas(){
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function startConfetti(durationMs = 2500){
      canvas.style.display = "block";

      const colors = ["#ff63b8","#8b5cf6","#ffd1ea","#c7a6ff","#ffffff"];
      const pieces = [];
      const count = 170;

      for(let i=0;i<count;i++){
        pieces.push({
          x: Math.random()*window.innerWidth,
          y: -20 - Math.random()*window.innerHeight*0.3,
          w: 6 + Math.random()*8,
          h: 8 + Math.random()*12,
          color: colors[(Math.random()*colors.length)|0],
          rot: Math.random()*Math.PI,
          vr: (-0.2 + Math.random()*0.4),
          vx: -2 + Math.random()*4,
          vy: 3 + Math.random()*6,
          g: 0.06 + Math.random()*0.08,
        });
      }

      const start = performance.now();

      function frame(t){
        const elapsed = t - start;
        ctx.clearRect(0,0,window.innerWidth,window.innerHeight);

        for(const p of pieces){
          p.vy += p.g;
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.globalAlpha = 1 - Math.min(1, elapsed / durationMs);
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        }

        if(elapsed < durationMs){
          requestAnimationFrame(frame);
        }else{
          canvas.style.display = "none";
          ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
        }
      }

      requestAnimationFrame(frame);
    }
  </script>
</body>
</html>